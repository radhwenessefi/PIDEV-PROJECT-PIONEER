<div class="ml-2 mr-2 rtl:ml-2 mt-8 !pb-4">
    
    <a mat-fab style="background-color: transparent;"  href="http://localhost:8089/api/reports/bank-accounts">
      <mat-icon>
        picture_as_pdf
      </mat-icon>
    </a>

    <div class="mat-elevation-z8" [@animate]="{value:'*',params:{y:'50px',delay:'300ms'}}">
        <mat-table [dataSource]="dataSource" matSort (matSortChange)="sortData($event)" >
  
            <ng-container matColumnDef="accountNumber">
              <mat-header-cell *matHeaderCellDef mat-sort-header> accountNumber </mat-header-cell>
              <mat-cell *matCellDef="let row" data-label="accountNumber"> {{row.accountNumber}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="rib">
                <mat-header-cell *matHeaderCellDef mat-sort-header> rib </mat-header-cell>
                <mat-cell *matCellDef="let row" > {{row?.rib}} </mat-cell>
            </ng-container>

        
            <ng-container matColumnDef="accountType">
              <mat-header-cell *matHeaderCellDef mat-sort-header> accountType </mat-header-cell>
                <mat-cell *matCellDef="let row" data-label="accountType"> 
                    @if(row.accountType === 'DEMAND_DEPOSIT_ACCOUNT'){
                        Deposit Account
                    }@else {
                        Savings Account
                    }
                </mat-cell>
            </ng-container>
                
            <ng-container matColumnDef="createDate">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Creation Date </mat-header-cell>
              <mat-cell *matCellDef="let row" > {{ row?.createDate | date: 'MMM d, y' }} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="modifyDate">
                <mat-header-cell *matHeaderCellDef mat-sort-header> Modification Date </mat-header-cell>
                <mat-cell *matCellDef="let row" > {{ row?.modifyDate | date: 'MMM d, y' }} </mat-cell>
            </ng-container>
  
            <ng-container matColumnDef="currency">
              <mat-header-cell *matHeaderCellDef mat-sort-header> currency </mat-header-cell>
              <mat-cell *matCellDef="let row" > 
                @if((row?.currency === 'Euro') || (row?.currency === 'euro')){
                    <mat-icon>
                        euro_symbol
                    </mat-icon>
                }
                @else if ((row?.currency === 'Dollar') || (row?.currency === 'dollar')) {
                    <mat-icon>
                        attach_money
                    </mat-icon>
                }@else{
                    {{row?.currency}}  
                }
              </mat-cell>
            </ng-container>
  
            <ng-container matColumnDef="balance">
                <mat-header-cell *matHeaderCellDef mat-sort-header> balance </mat-header-cell>
                <mat-cell *matCellDef="let row" > 
                    {{row?.balance}} 
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="actions">
                <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
                <mat-cell *matCellDef="let row">
                  <button (click)="EditAccount(row.id)" mat-fab color="primary">
                    <mat-icon>edit</mat-icon>
                </button>
                  &nbsp;
                  <button (click)="deleteAccountById(row.id)" mat-fab color="warn">
                    <mat-icon>delete</mat-icon>
                  </button>
                  &nbsp;
                  <button (click)="SendTransaction(row.id)" mat-fab color="accent">
                    <mat-icon>transfer_within_a_station</mat-icon>
                  </button>
                </mat-cell>
            </ng-container>
              

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>

            <mat-row *matRowDef="let row; columns: displayedColumns;">
            </mat-row>
        </mat-table>
        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
    </div>
  </div>
    <!-- Donut chart -->
    <div class="w-full sm:w-1/2 lg:w-1/3" [@animate]="{ value: '*', params: { y: '50px', delay: '400ms' } }">
      <mat-card class="p-0 ">
        <h6 class="ml-4 rtl:mr-4 rtl:ml-4 mt-4">Bank Account Type Distribution</h6>
        <div style="height: 350px;"echarts [options]="trafficSourcesChart" [autoResize]="true" style="height: 250px;"></div>
      </mat-card>
    </div>

